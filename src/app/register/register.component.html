<main>
  <div class="register-container">
    <h2 class="form-title">Criar Conta</h2>
    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="form-row">
        <div class="form-group">
          <label>Email</label>
          <input
            type="email"
            class="form-control"
            formControlName="email"
            placeholder="Digite seu email"
            required
          />
        </div>

        <div class="form-group">
          <label>Senha</label>
          <input
            type="password"
            class="form-control"
            formControlName="senha"
            placeholder="Digite sua senha"
            required
          />
        </div>
      </div>

      <div class="form-group">
        <label>CPF</label>
        <input
          type="text"
          class="form-control"
          formControlName="cpf"
          placeholder="000.000.000-00"
          mask="000.000.000-00"
          required
        />
        <div class="error-message" *ngIf="getFieldError('cpf')">
          <span *ngIf="registerForm.get('cpf')?.errors?.['required']"
            >CPF é obrigatório.</span
          >
          <span *ngIf="registerForm.get('cpf')?.errors?.['minlength']"
            >CPF incompleto.</span
          >
        </div>
      </div>

      <div class="form-group">
        <label>Telefone</label>
        <input
          type="text"
          class="form-control"
          formControlName="telefone"
          placeholder="(00) 00000-0000"
          mask="(00) 00000-0000"
          required
        />
        <div class="error-message" *ngIf="getFieldError('telefone')">
          <span *ngIf="registerForm.get('telefone')?.errors?.['required']"
            >Telefone é obrigatório.</span
          >
          <span *ngIf="registerForm.get('telefone')?.errors?.['pattern']"
            >Formato de telefone inválido.</span
          >
        </div>
      </div>

      <div class="form-group">
        <label>Endereço</label>
        <input
          type="text"
          class="form-control"
          formControlName="endereco"
          placeholder="Rua Exemplo, 123"
          required
        />
      </div>

      <div class="form-group">
        <label>Complemento</label>
        <input
          type="text"
          class="form-control"
          formControlName="complemento"
          placeholder="Apartamento, casa..."
          required
        />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Cidade</label>
          <input
            type="text"
            class="form-control"
            formControlName="cidade"
            required
          />
        </div>

        <div class="form-group">
          <label>Estado</label>
          <input
            type="text"
            class="form-control"
            formControlName="estado"
            required
          />
        </div>

        <div class="form-group">
          <label>CEP</label>
          <input
            type="text"
            class="form-control"
            formControlName="cep"
            placeholder="00000-000"
            mask="00000-000"
            required
          />
          <div class="error-message" *ngIf="getFieldError('cep')">
            <span *ngIf="registerForm.get('cep')?.errors?.['required']"
              >CEP é obrigatório.</span
            >
            <span *ngIf="registerForm.get('cep')?.errors?.['pattern']"
              >Formato de CEP inválido.</span
            >
          </div>
        </div>
      </div>

      <div class="form-check-group">
        <label>
          <input type="checkbox" formControlName="receberPromocoes" />
          Desejo receber promoções por email.
        </label>
      </div>

      <div class="form-check-group">
        <label>
          <input type="checkbox" formControlName="aceitarTermos" />
          Concordo com os
          <a href="termos-condições" target="_blank">Termos e Condições</a>.
        </label>
        <div class="error-message" *ngIf="getFieldError('aceitarTermos')">
          <span>Você precisa aceitar os termos.</span>
        </div>
      </div>

      <button type="submit" class="submit-btn">Registrar</button>
    </form>
  </div>
</main>
